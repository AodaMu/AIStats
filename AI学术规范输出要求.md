# AI学术规范输出要求

## 问题背景

用户指出AI分析结果存在严重的学术不规范问题：

### ❌ 错误示例
```
"父母监督程度与作业完成率之间存在显著的正相关关系，
即父母监督越严格，学生的作业完成率越高。"
```

**问题**：直接给出结论，没有说明**统计依据**。

### ✅ 正确示例
```
"基于Pearson相关分析，r=0.65, p<0.001，
所以父母监督程度与作业完成率之间存在显著的正相关关系，
即父母监督越严格，学生的作业完成率越高。"
```

**规范**：先说明统计依据（检验方法+统计量+p值），再给出结论。

## 解决方案

### 1. 核心原则

🔴 **任何带有结论性词汇的语句必须先说明统计依据**

结论性词汇包括：
- "显著"
- "存在"
- "差异"
- "相关"
- "影响"
- "有效"
- "不同"

### 2. 标准格式

```
基于/根据 [统计方法]，[统计量]=[数值], p=[数值]，所以 [结论]。
```

### 3. 各类分析的标准格式

#### 独立样本t检验
```
✅ "根据独立样本t检验，t=3.45, p=0.002<0.05，所以男生和女生在成绩上存在显著差异。"
❌ "男生和女生在成绩上存在显著差异。"
```

#### Pearson相关分析
```
✅ "基于Pearson相关分析，r=0.65, p<0.001，所以父母监督与作业完成率存在显著正相关。"
❌ "父母监督与作业完成率存在显著正相关。"
```

#### 方差分析（ANOVA）
```
✅ "根据单因素方差分析，F=5.23, p=0.008<0.05，所以不同年级学生在成绩上存在显著差异。"
❌ "不同年级学生在成绩上存在显著差异。"
```

#### 回归分析
```
✅ "根据回归分析，R²=0.45, p<0.001，所以学习时间能有效预测考试成绩（解释45%的变异）。"
❌ "学习时间能有效预测考试成绩。"
```

#### 描述统计
```
✅ "根据频次统计，8年级（初二）学生最多，占50%（10人），其次是7年级（初一）25%（5人）。"
❌ "初二学生最多。"
```

#### 信度分析
```
✅ "根据信度分析，Cronbach's Alpha=0.85，所以该量表具有良好的信度。"
❌ "该量表具有良好的信度。"
```

#### 中介效应分析
```
✅ "根据中介效应分析，路径a(p=0.001)和路径b(p=0.003)均显著，中介比例=45%，所以M在X对Y的影响中起显著中介作用。"
❌ "M在X对Y的影响中起显著中介作用。"
```

## 实施细节

### 修改位置1：AI视图提示词（ai_view_v2.py）

**核心规则第7条**：
```
7. 🔴 **学术规范（极其重要）**：任何结论前必须先说明统计依据
```

**学术规范回答格式**：
- 提供了正确和错误示例对比
- 强调："任何带有'显著'、'存在'、'差异'、'相关'等结论性词汇的语句必须在前面加上'基于XXX分析/检验，统计量=X, p=X，所以...'"

**第二次调用提示**：
要求AI在解释统计结果时必须先说明统计依据，再给出结论。

### 修改位置2：统计视图提示词（stat_view.py）

所有统计方法的提示词都添加了：
```
🔴 必须遵守的格式：
先说明统计依据，再给出结论。
格式："根据XXX，统计量=X, p=X，所以..."
```

涵盖的统计方法：
- 独立样本t检验
- 配对样本t检验
- 单样本t检验
- Pearson相关分析
- 单因素方差分析
- 回归分析
- 信度分析
- 描述统计
- 中介效应分析

## 为什么这很重要

### 学术角度
1. **可验证性**：读者可以根据统计量和p值验证结论
2. **透明度**：明确说明结论是基于什么统计检验得出的
3. **规范性**：符合学术论文的写作规范

### 实践角度
1. **避免误解**：防止读者误以为结论是主观臆断
2. **便于复现**：其他研究者可以根据统计方法和结果复现研究
3. **增强可信度**：有统计依据的结论更具说服力

### 教学角度
1. **培养规范**：帮助学生养成学术写作的良好习惯
2. **理解统计**：强调统计方法和结论的因果关系
3. **批判思维**：学会质疑没有依据的结论

## 检查清单

在给出任何结论前，请确认：
- [ ] 是否说明了使用的统计方法？
- [ ] 是否提供了关键统计量（如r, t, F, R²）？
- [ ] 是否提供了p值？
- [ ] 是否先说明依据，再给出结论？
- [ ] 结论是否基于统计结果而非主观判断？

## 更新日志

### 2025-11-06
- ✅ 新增：AI视图中强制要求说明统计依据
- ✅ 新增：统计视图中所有分析方法的提示词规范化
- ✅ 新增：标准格式示例和错误示例对比
- ✅ 修复：AI直接给结论不说明依据的问题

---

如有问题，请在 GitHub 提交 Issue。

